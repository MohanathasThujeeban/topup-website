# Application Configuration
spring.application.name=topup-backend
server.port=${PORT:8080}

# MongoDB Configuration
# Will use environment variable MONGODB_URI if available, otherwise fallback to MongoDB Atlas
spring.mongodb.uri=${MONGODB_URI:mongodb+srv://thujee_db:Thujee%40tamil01923@topupdb.puesjra.mongodb.net/topup_db?retryWrites=true&w=majority&appName=topupdb}

# Individual properties below are ignored when URI is set
# spring.mongodb.database=topup_db
# spring.mongodb.host=${MONGO_HOST:localhost}
# spring.mongodb.port=${MONGO_PORT:27017}
# spring.mongodb.username=${MONGO_USERNAME:}
# spring.mongodb.password=${MONGO_PASSWORD:}
# spring.mongodb.authentication-database=${MONGO_AUTH_DB:}

# Additional settings
# Setting to false to prevent index recreation on startup which causes conflicts
spring.data.mongodb.auto-index-creation=false

# JWT Configuration
app.jwt.secret=topupSecretKeyThatIsLongEnoughForHS512Algorithm123456789
app.jwt.expiration=86400000
app.jwt.refresh-expiration=604800000

# Email Configuration (Gmail example - update with your SMTP settings)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:thujeeforearn@gmail.com}
spring.mail.password=${MAIL_PASSWORD:vblv pumf zyuw ecag}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=3000
spring.mail.properties.mail.smtp.writetimeout=5000

# Application Specific Configuration
app.name=TopUp Pro
app.url=${APP_URL:https://topup-website-beta.vercel.app}
app.support.email=${SUPPORT_EMAIL:support@topuppro.com}

# Verification Token Configuration
app.verification.email.expiration-hours=168  # 7 days
app.verification.password-reset.expiration-hours=24  # Increased to 24 hours

# Rate Limiting Configuration
app.rate-limit.email.max-attempts=5
app.rate-limit.email.time-window-minutes=60

# Logging Configuration
logging.level.com.example.topup.demo=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.mail=DEBUG

# CORS Configuration
app.cors.allowed-origins=${CORS_ORIGINS:http://localhost:3000,http://localhost:3001,http://localhost:5173,http://10.11.6.107:3001}
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=*
app.cors.allow-credentials=true

# Profile specific configurations
spring.profiles.active=dev,local

# Actuator Configuration (for monitoring)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
